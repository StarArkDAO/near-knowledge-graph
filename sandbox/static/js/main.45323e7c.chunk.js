(this.webpackJsonpgraph=this.webpackJsonpgraph||[]).push([[0],{161:function(e,t){},171:function(e,t){},189:function(e,t){},229:function(e,t,n){},235:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(23),o=n.n(r),s=n(18),i=n(3),l=n(7),d=n.n(l),j=n(251),h=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CONTRACT_NAME||"pre1.knowledge_graph.testnet";var b=function(e){switch(e){case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:h,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org",explorerUrl:"https://explorer.mainnet.near.org"};case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:h,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://explorer.testnet.near.org"};default:throw Error("Unknown environment '".concat(e,"'."))}},u=n(76),x=n(36),p=b("testnet");function O(){return(O=Object(s.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.connect)(Object.assign({deps:{keyStore:new u.keyStores.BrowserLocalStorageKeyStore}},p));case 2:t=e.sent,window.walletConnection=new u.WalletConnection(t),window.accountId=window.walletConnection.getAccountId(),window.contract=new u.Contract(window.walletConnection.account(),p.contractName,{viewMethods:["get_root_list","get_node","get_nodes","search_name"],changeMethods:["create_root","create_node","create_relation"]});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return g.apply(this,arguments)}function g(){return(g=Object(s.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=x.formatNearAmount,e.next=3,window.walletConnection.account().getAccountBalance();case 3:return e.t1=e.sent.total,e.abrupt("return",(0,e.t0)(e.t1,2));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){window.walletConnection.requestSignIn(p.contractName)}function w(){window.walletConnection.signOut(),window.location.reload()}var v=n(248),k=n(243),C=n(252),N=n(1),y=function(e){var t=e.address,n=e.amount,a=e.symbol,c=e.destroy;return t?Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(v.a,{children:[Object(N.jsx)(v.a.Toggle,{variant:"light",align:"end",id:"dropdown-basic",className:"d-flex align-items-center border rounded-pill py-1",children:n?Object(N.jsxs)(N.Fragment,{children:[n," ",Object(N.jsxs)("span",{className:"ms-1",children:[" ",a]})]}):Object(N.jsx)(k.a,{animation:"border",size:"sm",className:"opacity-25"})}),Object(N.jsxs)(v.a.Menu,{className:"shadow-lg border-0",children:[Object(N.jsx)(v.a.Item,{href:"https://explorer.testnet.near.org/accounts/".concat(t),target:"_blank",children:Object(N.jsxs)(C.a,{direction:"horizontal",gap:2,children:[Object(N.jsx)("i",{className:"bi bi-person-circle fs-4"}),Object(N.jsx)("span",{className:"font-monospace",children:t})]})}),Object(N.jsx)(v.a.Divider,{}),Object(N.jsxs)(v.a.Item,{as:"button",className:"d-flex align-items-center",onClick:function(){c()},children:[Object(N.jsx)("i",{className:"bi bi-box-arrow-right me-2 fs-4"}),"Disconnect"]})]})]})}):null},_=n(65),I=(n(220),function(){return Object(N.jsx)(_.a,{position:"bottom-center",autoClose:5e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!1,pauseOnHover:!0})}),S=1e14;function D(e){return window.contract.get_node({node_id:e})}function F(e){return window.contract.search_name({name:e,absolute:!1})}function R(){return(R=Object(s.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.contract.create_root({title:t,data:n},S,Object(x.parseNearAmount)("0.005"));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(s.a)(d.a.mark((function e(t,n,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.contract.create_node({related_node_id:t,data:n,relation_from:a,relation_to:a},S,Object(x.parseNearAmount)("0.01"));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(s.a)(d.a.mark((function e(t,n,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.contract.create_relation({node_id:t,related_node_id:n,relation_from:a,relation_to:a},S,Object(x.parseNearAmount)("0.01"));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,n){var a={id:e.index,name:e.name,account_id:e.account_id,x:t,y:n};return e.media.length>0&&(a.svg=e.media),e.data.length>0&&(a.href=e.data),a}function L(e){for(var t,n,a=Array(),c=0;c<e.relations.length;c++)a.push({source:e.index,target:e.relations[c][1],label:e.relations[c][0].split("@")[0],index:(t=e.index,n=e.relations[c][1],parseInt(t)>parseInt(n)?n+"@"+t:t+"@"+n)});return a}var M=n(42),E=(n(221),n(2)),B=n(249),W=n(250),U=n(143),A=function(e){e.rootId,e.setRootId;var t=e.show,n=e.setShow,c=function(){return n(!1)},r="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Pomegranate_Juice_%282019%29.jpg/440px-Pomegranate_Juice_%282019%29.jpg",o="https://en.wikipedia.org/wiki/Pomegranate",s=Object(a.useState)({title:"",data:{name:"",media:r,data:o}}),l=Object(i.a)(s,2),d=l[0],j=l[1],h=function(e){var t=Object(E.a)({},d);"title"==e.target.id?t[e.target.id]=e.target.value:t.data[e.target.id]=e.target.value,j(t)};return Object(N.jsxs)(B.a,{size:"lg",show:t,onHide:c,children:[Object(N.jsx)(B.a.Header,{closeButton:!0,children:Object(N.jsx)(B.a.Title,{children:"Create a new graph on Near now!"})}),Object(N.jsx)(B.a.Body,{children:Object(N.jsxs)(W.a,{children:[Object(N.jsxs)(W.a.Group,{className:"mb-3",controlId:"title",children:[Object(N.jsx)(W.a.Label,{children:"Title (Unique)"}),Object(N.jsx)(W.a.Control,{placeholder:"Title of your graph",onChange:h,autoFocus:!0})]}),Object(N.jsx)("h3",{children:"Root Node infomation"}),Object(N.jsxs)(W.a.Group,{className:"mb-3",controlId:"name",children:[Object(N.jsx)(W.a.Label,{children:"Name"}),Object(N.jsx)(W.a.Control,{placeholder:"Name of the root node",onChange:h})]}),Object(N.jsxs)(W.a.Group,{className:"mb-3",controlId:"media",children:[Object(N.jsx)(W.a.Label,{children:"Media Url (Optional, support ipfs upload later)"}),Object(N.jsx)(W.a.Control,{as:"textarea",rows:3,defaultValue:r,onChange:h}),Object(N.jsx)("img",{src:d.data.media,alt:"Media",style:{maxHeight:"250px",maxWidth:"440px"}})]}),Object(N.jsxs)(W.a.Group,{className:"mb-3",controlId:"data",children:[Object(N.jsx)(W.a.Label,{children:"Data Url (Optional)"}),Object(N.jsx)(W.a.Control,{as:"textarea",rows:3,defaultValue:o,onChange:h})]})]})}),Object(N.jsxs)(B.a.Footer,{children:[Object(N.jsx)("p",{children:"* You need to paid for the storage, the contract will refund the extra cost after minting. Storage usage will record and will refund when burn in future. "}),Object(N.jsx)(U.a,{variant:"secondary",onClick:c,children:"Cancel"}),Object(N.jsx)(U.a,{variant:"primary",onClick:function(){n(!1),function(e,t){R.apply(this,arguments)}(d.title,d.data)},children:"I get it, mint now!"})]})]})},G=function(e){var t=e.graphData,n=e.setGraphData,c=e.rootId,r=e.setRootId,o=e.nodes,l=e.setNodes,j=Object(a.useState)(!1),h=Object(i.a)(j,2),b=(h[0],h[1]),u=Object(a.useState)(!1),x=Object(i.a)(u,2),p=x[0],O=x[1],m=Object(a.useState)([]),g=Object(i.a)(m,2),f=g[0],w=g[1],v=Object(a.useState)([]),k=Object(i.a)(v,2),C=k[0],y=k[1],_=Object(a.useState)({}),I=Object(i.a)(_,2),S=I[0],F=I[1],R=3*Math.PI/8,T=Object(a.useCallback)(Object(s.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.t0=w,e.next=5,window.contract.get_root_list();case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(0),console.log({error:e.t2});case 12:return e.prev=12,b(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))),H=Object(a.useCallback)(function(){var e=Object(s.a)(d.a.mark((function e(a,c,r,s){var i,j,h,b,u,x,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,750===c&&(l({}),F({}),t={nodes:[],links:[]}),e.next=4,D(a);case 4:if(!((i=e.sent).index in o)){e.next=7;break}return e.abrupt("return");case 7:if(t.nodes.push(P(i,c,r)),o[i.index]=i,l(o),!(i.relations.length>0)){e.next=36;break}j=L(i),h=0;case 13:if(!(h<j.length)){e.next=20;break}if(!(j[h].index in S)){e.next=16;break}return e.abrupt("continue",17);case 16:j[h].target in o&&(t.links.push(j[h]),S[j[h].index]=j[h]);case 17:h++,e.next=13;break;case 20:F(S),b=Math.PI/i.relations.length,3*Math.PI/8,u=100,x=0;case 25:if(!(x<i.relations.length)){e.next=36;break}if((p=i.relations[x][1])in o){e.next=33;break}return console.log("await",p),e.next=31,H(p,c+u*Math.sin(s),r+u*Math.cos(s),s+Math.PI/4);case 31:e.sent,s+=b;case 33:x++,e.next=25;break;case 36:console.log(t),n(t),e.next=43;break;case 40:e.prev=40,e.t0=e.catch(0),console.log({error:e.t0});case 43:return e.prev=43,e.finish(43);case 45:case"end":return e.stop()}}),e,null,[[0,40,43,45]])})));return function(t,n,a,c){return e.apply(this,arguments)}}());return Object(a.useEffect)((function(){T()}),[]),Object(a.useEffect)((function(){var e;""!=c||0==f.length||r(null===(e=f[0])||void 0===e?void 0:e.index)}),[f]),Object(a.useEffect)((function(){""!=c&&H(c,750,250,R)}),[c]),Object(N.jsxs)("div",{className:"menu",children:[Object(N.jsx)(A,{rootId:c,setRootId:r,show:p,setShow:O}),Object(N.jsx)("div",{style:{marginTop:"5px",width:"100%",minHeight:"24px"},children:Object(N.jsx)("div",{style:{float:"right",marginRight:"10px"},onClick:T,children:Object(N.jsx)(M.c,{})})}),Object(N.jsxs)("div",{className:"create_root_bar",onClick:function(){O(!0)},children:[Object(N.jsx)(M.a,{style:{marginTop:"4px"}}),Object(N.jsx)("span",{className:"black_border_bottom",style:{lineHeight:"24px",marginLeft:"5px"},children:"Create new graph"})]}),Object(N.jsx)("div",{style:{marginTop:"15px"},children:f.map((function(e){return Object(N.jsx)("div",{className:C===e.index?"item_selected":"item",onClick:function(){var t;t=e.index,y(t),r(t)},style:{padding:"5px"},children:e.name},e.index)}))})]})},z=n(146),J=n(247),K=n(144),V=n(245),Z=n(246),Y=n(145),q=function(e){var t=e.node,n=e.setNode,c=e.nodes,r=e.show,o=e.setShow,s=function(){return o(!1)},l="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Pomegranate_Juice_%282019%29.jpg/440px-Pomegranate_Juice_%282019%29.jpg",d="https://en.wikipedia.org/wiki/Pomegranate",j=Object(a.useState)({data:{name:"",media:l,data:d},relation:""}),h=Object(i.a)(j,2),b=h[0],u=h[1],x=Object(a.useState)(!1),p=Object(i.a)(x,2),O=p[0],m=p[1],g=function(e){var t=Object(E.a)({},b);"relation"==e.target.id?t[e.target.id]=e.target.value:t.data[e.target.id]=e.target.value,u(t)};return Object(N.jsx)(N.Fragment,{children:O?Object(N.jsxs)(B.a,{size:"lg",show:r,onHide:s,children:[Object(N.jsxs)(B.a.Header,{closeButton:!0,children:[Object(N.jsxs)(B.a.Title,{children:["Create a new Node related on ",t.name," [#",t.index,"] "]}),Object(N.jsxs)("div",{style:{marginLeft:"25px"},onClick:function(){m(!1)},children:[Object(N.jsx)("span",{className:"black_border_bottom",children:"Back to view"})," ",Object(N.jsx)(M.b,{})]})]}),Object(N.jsx)(B.a.Body,{children:Object(N.jsxs)(W.a,{children:[Object(N.jsxs)(W.a.Group,{className:"mb-3",controlId:"relation",children:[Object(N.jsx)(W.a.Label,{children:"Relation"}),Object(N.jsx)(W.a.Control,{placeholder:"Relation with related node, such as 'friends'",onChange:g})]}),Object(N.jsx)("h3",{children:"Node infomation"}),Object(N.jsxs)(W.a.Group,{className:"mb-3",controlId:"name",children:[Object(N.jsx)(W.a.Label,{children:"Name"}),Object(N.jsx)(W.a.Control,{placeholder:"Name of the node",onChange:g})]}),Object(N.jsxs)(W.a.Group,{className:"mb-3",controlId:"media",children:[Object(N.jsx)(W.a.Label,{children:"Media Url (Optional, support ipfs upload later)"}),Object(N.jsx)(W.a.Control,{as:"textarea",rows:3,defaultValue:l,onChange:g}),Object(N.jsx)("img",{src:b.data.media,alt:"Media",style:{maxHeight:"250px",maxWidth:"440px"}})]}),Object(N.jsxs)(W.a.Group,{className:"mb-3",controlId:"data",children:[Object(N.jsx)(W.a.Label,{children:"Data Url (Optional)"}),Object(N.jsx)(W.a.Control,{as:"textarea",rows:3,defaultValue:d,onChange:g})]})]})}),Object(N.jsxs)(B.a.Footer,{children:[Object(N.jsx)("p",{children:"* You need to paid for the storage, the contract will refund the extra cost after minting. Storage usage will record and will refund when burn in future. "}),Object(N.jsx)(U.a,{variant:"secondary",onClick:s,children:"Cancel"}),Object(N.jsx)(U.a,{variant:"primary",onClick:function(){o(!1),function(e,t,n){T.apply(this,arguments)}(t.index,b.data,b.relation)},children:"I get it, mint now!"})]})]}):Object(N.jsxs)(B.a,{size:"lg",show:r,onHide:s,children:[Object(N.jsxs)(B.a.Header,{closeButton:!0,children:[Object(N.jsxs)(B.a.Title,{children:["Node ",t.name," [#",t.index,"]"]}),Object(N.jsx)(U.a,{variant:"primary",onClick:function(){m(!0)},style:{marginLeft:"25px"},children:"Create Node"})]}),Object(N.jsxs)(B.a.Body,{children:[Object(N.jsx)("img",{src:t.media,alt:"Media",style:{maxHeight:"250px",maxWidth:"440px"}}),Object(N.jsxs)("p",{children:["Name: ",t.name]}),Object(N.jsxs)("p",{children:["ID: #",t.index]}),Object(N.jsxs)("p",{children:["Data: ",Object(N.jsx)("a",{href:t.data,target:"_blank",children:"view"})," "]}),Object(N.jsxs)("p",{children:["Current owner: ",Object(N.jsx)("a",{href:"https://explorer.testnet.near.org/accounts/"+t.account_id,target:"_blank",children:t.account_id})]}),Object(N.jsxs)("p",{children:["Deposit: ",t.storage," yocto\u24c3"]}),Object(N.jsx)("h3",{children:"Relations"}),Object(N.jsx)("p",{children:"click ID to view node"}),Object(N.jsxs)(V.a,{children:[Object(N.jsxs)(Z.a,{children:[Object(N.jsx)(Y.a,{xs:4,md:2,children:"ID"}),Object(N.jsx)(Y.a,{xs:4,md:2,children:"relation"}),Object(N.jsx)(Y.a,{xs:4,md:2,children:"name"}),Object(N.jsx)(Y.a,{xs:4,md:2,children:"Media"}),Object(N.jsx)(Y.a,{xs:4,md:2,children:"Data"})]}),t.relations.map((function(e){return Object(N.jsx)(N.Fragment,{children:e[1]in c?Object(N.jsxs)(Z.a,{children:[Object(N.jsx)(Y.a,{xs:4,md:2,onClick:function(){n(c[e[1]])},style:{color:"blue"},children:Object(N.jsxs)("b",{children:["#",c[e[1]].index]})}),Object(N.jsx)(Y.a,{xs:4,md:2,children:e[0].split("@")[0]}),Object(N.jsx)(Y.a,{xs:4,md:2,children:c[e[1]].name}),Object(N.jsx)(Y.a,{xs:4,md:2,children:Object(N.jsx)("img",{src:c[e[1]].media,alt:"Media",style:{maxHeight:"75px",maxWidth:"75px"}})}),Object(N.jsx)(Y.a,{xs:4,md:2,children:Object(N.jsx)("a",{href:c[e[1]].data,target:"_blank",children:"view"})})]},e[1]):Object(N.jsx)(N.Fragment,{})})}))]})]}),Object(N.jsx)(B.a.Footer,{children:Object(N.jsx)(U.a,{variant:"secondary",onClick:s,children:"Close"})})]})})},Q=function(e){var t=e.nodes,n=e.nodeId,c=e.setNodeId,r=e.relatedNodeId,o=e.setRelatedNodeId,s=e.show,l=e.setShow,d=function(){c(""),o(""),l(!1)},j=Object(a.useState)(""),h=Object(i.a)(j,2),b=h[0],u=h[1];return Object(N.jsxs)(B.a,{size:"lg",show:s,onHide:d,children:[Object(N.jsx)(B.a.Header,{closeButton:!0,children:Object(N.jsx)(B.a.Title,{children:""!=n&&""!=r?Object(N.jsxs)(N.Fragment,{children:["Create Relation: ",t[n].name," #",n," to ",t[r].name," #",r]}):Object(N.jsx)(N.Fragment,{})})}),Object(N.jsxs)(B.a.Body,{children:[""!=n&&""!=r?Object(N.jsx)(V.a,{children:Object(N.jsxs)(Z.a,{children:[Object(N.jsxs)(Y.a,{xs:12,md:4,children:[Object(N.jsx)("img",{src:t[n].media,alt:"Media",style:{maxHeight:"250px",maxWidth:"440px"}}),Object(N.jsxs)("p",{children:["Name: ",t[n].name]}),Object(N.jsxs)("p",{children:["ID: #",t[n].index]}),Object(N.jsxs)("p",{children:["Data: ",Object(N.jsx)("a",{href:t[n].data,target:"_blank",children:"view"})," "]}),Object(N.jsxs)("p",{children:["Current owner: ",t[n].account_id]}),Object(N.jsxs)("p",{children:["Deposit: ",t[n].storage," yocto\u24c3"]})]}),Object(N.jsxs)(Y.a,{xs:12,md:4,children:[Object(N.jsx)("img",{src:t[r].media,alt:"Media",style:{maxHeight:"250px",maxWidth:"440px"}}),Object(N.jsxs)("p",{children:["Name: ",t[r].name]}),Object(N.jsxs)("p",{children:["ID: #",t[r].index]}),Object(N.jsxs)("p",{children:["Data: ",Object(N.jsx)("a",{href:t[r].data,target:"_blank",children:"view"})," "]}),Object(N.jsxs)("p",{children:["Current owner: ",t[r].account_id]}),Object(N.jsxs)("p",{children:["Deposit: ",t[r].storage," yocto\u24c3"]})]})]})}):Object(N.jsx)(N.Fragment,{}),Object(N.jsx)(W.a,{children:Object(N.jsxs)(W.a.Group,{className:"mb-3",controlId:"relation",children:[Object(N.jsx)(W.a.Label,{children:"Relation"}),Object(N.jsx)(W.a.Control,{placeholder:"Relation with related node, such as 'friends'",onChange:function(e){u(e.target.value)}})]})})]}),Object(N.jsxs)(B.a.Footer,{children:[Object(N.jsx)("p",{children:"* You need to paid for the storage, the contract will refund the extra cost after minting."}),Object(N.jsx)(U.a,{variant:"secondary",onClick:d,children:"Cancel"}),Object(N.jsx)(U.a,{variant:"primary",onClick:function(){l(!1),function(e,t,n){H.apply(this,arguments)}(n,r,b)},children:"I get it, mint now!"})]})]})},X=function(e){var t=e.graphData,n=e.setRootId,c=e.nodes,r=Object(a.useState)(""),o=Object(i.a)(r,2),l=o[0],j=o[1],h=Object(a.useState)(""),b=Object(i.a)(h,2),u=b[0],x=b[1],p=Object(a.useState)(!1),O=Object(i.a)(p,2),m=(O[0],O[1],Object(a.useState)([])),g=Object(i.a)(m,2),f=g[0],w=g[1],v=Object(a.useState)({index:"",name:"",media:"",account_id:"",data:"",relations:[],storage:"0"}),k=Object(i.a)(v,2),C=k[0],y=k[1],I=Object(a.useState)(!1),S=Object(i.a)(I,2),D=S[0],R=S[1],T=Object(a.useState)(!1),H=Object(i.a)(T,2),P=H[0],L=H[1],E=Object(a.useCallback)(function(){var e=Object(s.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=w,e.next=4,F(t);case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),console.log({error:e.t2});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}());return Object(N.jsxs)("div",{className:"near_graph",style:{padding:"5px"},children:[Object(N.jsx)(q,{nodes:c,setNode:y,node:C,setRootId:n,show:D,setShow:R}),Object(N.jsx)(Q,{show:P,setShow:L,nodes:c,nodeId:l,setNodeId:j,relatedNodeId:u,setRelatedNodeId:x}),Object(N.jsxs)("div",{style:{padding:"15px 15px 0px 15px"},children:[Object(N.jsx)("p",{children:"Right click nodes to create relation between them."}),Object(N.jsxs)(J.a,{className:"mb-3",children:[Object(N.jsxs)(J.a.Text,{children:[Object(N.jsx)(M.d,{}),"Search"]}),Object(N.jsx)(K.a,{onChange:function(e){""==e.target.value?w([]):E(e.target.value)}.bind(undefined),placeholder:"Enter keyword","aria-label":"Enter keyword","aria-describedby":"basic-addon2"}),f.length>0?Object(N.jsx)("div",{className:"search_result",children:f.map((function(e){return Object(N.jsx)("div",{className:"result_item item",onClick:function(){var t;t=e[1],w([]),n(t)},children:e[0]},e[1])}))}):Object(N.jsx)(N.Fragment,{})]})]}),Object(N.jsx)(z.Graph,{className:"graph_svg",id:"graph-id",data:t,config:{height:700,width:1500,nodeHighlightBehavior:!0,linkHighlightBehavior:!0,staticGraphWithDragAndDrop:!0,maxZoom:4,minZoom:1.6,zoom:1.8,focusZoom:2,node:{fontSize:8,highlightFontSize:12,highlightFontWeight:"bold",highlightStrokeColor:"blue",labelProperty:"name",size:400,strokeWidth:2,labelPosition:"bottom"},link:{highlightColor:"blue",renderLabel:!0,highlightFontWeight:"bold",semanticStrokeWidth:!0,fontSize:8,labelPosition:"center"},d3:{gravity:-400,linkLength:180,disableLinkForce:!0}},onClickNode:function(e){console.log("Clicked node ".concat(e)),e in c&&(y(c[e]),R(!0))},onClickLink:function(e,t){console.log("Clicked link between ".concat(e," and ").concat(t))},onZoomChange:function(e,t){console.log(e,t)},onRightClickNode:function(e,t,n){if(e.preventDefault(),t in c){if(l==t)return Object(_.b)("cancel relate node ".concat(c[t].name," #").concat(t)),j(""),void x("");if(""==l)return Object(_.b)("Selected relate node ".concat(c[t].name," #").concat(t)),j(t),void x("");Object(_.b)("Selected relate node ".concat(c[t].name," #").concat(t)),x(t),L(!0)}}})]})},$=function(e){var t=e.name,n=e.description,a=e.login,c=e.coverImg;return c?Object(N.jsxs)("div",{className:"d-flex justify-content-center flex-column text-center ",style:{background:"#000",minHeight:"100vh"},children:[Object(N.jsxs)("div",{className:"mt-auto text-light mb-5",children:[Object(N.jsx)("div",{className:" ratio ratio-1x1 mx-auto mb-2",style:{maxWidth:"320px"},children:Object(N.jsx)("img",{src:c,alt:""})}),Object(N.jsx)("h1",{children:t}),Object(N.jsx)("h4",{children:n}),Object(N.jsx)("p",{style:{marginTop:"30px"},children:"Please connect your wallet to continue."}),Object(N.jsx)(U.a,{onClick:a,variant:"outline-light",className:"rounded-pill px-3 mt-3",children:"Connect Wallet"})]}),Object(N.jsx)("p",{className:"mt-auto text-secondary",children:"Powered by NEAR"})]}):null};$.defaultProps={name:""};var ee=$,te=n.p+"static/media/logo.4e487ea7.png",ne=(n(229),function(){var e=window.walletConnection.account(),t=Object(a.useState)("0"),n=Object(i.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)({nodes:[],links:[]}),l=Object(i.a)(o,2),h=l[0],b=l[1],u=Object(a.useState)(""),x=Object(i.a)(u,2),p=x[0],O=x[1],g=Object(a.useState)({}),v=Object(i.a)(g,2),k=v[0],C=v[1],_=Object(a.useCallback)(Object(s.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.accountId){t.next=6;break}return t.t0=r,t.next=4,m();case 4:t.t1=t.sent,(0,t.t0)(t.t1);case 6:case"end":return t.stop()}}),t)}))));return Object(a.useEffect)((function(){_()}),[_]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(I,{}),e.accountId?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(j.a,{className:"justify-content-between align-items-center pt-3 pb-3 mb-2",style:{backgroundColor:"black",padding:"15px"},children:[Object(N.jsx)(j.a.Item,{children:Object(N.jsx)("a",{href:"https://www.zsrtech.com",children:Object(N.jsx)("img",{className:"nav-icon",src:te,alt:""})})}),Object(N.jsx)(j.a.Item,{children:Object(N.jsx)(y,{address:e.accountId,amount:c,symbol:"NEAR",destroy:w})})]}),Object(N.jsxs)("div",{className:"main",children:[Object(N.jsx)(G,{graphData:h,setGraphData:b,rootId:p,setRootId:O,nodes:k,setNodes:C}),Object(N.jsx)(X,{graphData:h,setRootId:O,nodes:k})]})]}):Object(N.jsx)(ee,{name:"Near Knowledge Graph",description:"Mint and build knowledge ecosystem worldwide",login:f,coverImg:te})]})}),ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,253)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};n(232),n(233);window.nearInitPromise=function(){return O.apply(this,arguments)}().then((function(){o.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(ne,{})}),document.getElementById("root"))})).catch(console.error),ae()}},[[235,1,2]]]);
//# sourceMappingURL=main.45323e7c.chunk.js.map