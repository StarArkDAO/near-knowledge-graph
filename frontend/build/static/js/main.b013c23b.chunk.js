(this.webpackJsonpnear_knowledge_graph=this.webpackJsonpnear_knowledge_graph||[]).push([[0],{161:function(e,t){},171:function(e,t){},189:function(e,t){},228:function(e,t,n){},234:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(23),o=n.n(c),s=n(18),i=n(3),l=n(7),d=n.n(l),j=n(249),h=Object({NODE_ENV:"production",PUBLIC_URL:"/near_knowledge_graph",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CONTRACT_NAME||"pre1.knowledge_graph.testnet";var b=function(e){switch(e){case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:h,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org",explorerUrl:"https://explorer.mainnet.near.org"};case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:h,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://explorer.testnet.near.org"};default:throw Error("Unknown environment '".concat(e,"'."))}},u=n(76),x=n(37),p=b("testnet");function O(){return(O=Object(s.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.connect)(Object.assign({deps:{keyStore:new u.keyStores.BrowserLocalStorageKeyStore}},p));case 2:t=e.sent,window.walletConnection=new u.WalletConnection(t),window.accountId=window.walletConnection.getAccountId(),window.contract=new u.Contract(window.walletConnection.account(),p.contractName,{viewMethods:["get_root_list","get_node","get_nodes","search_name"],changeMethods:["create_root","create_node","create_relation"]});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return g.apply(this,arguments)}function g(){return(g=Object(s.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=x.formatNearAmount,e.next=3,window.walletConnection.account().getAccountBalance();case 3:return e.t1=e.sent.total,e.abrupt("return",(0,e.t0)(e.t1,2));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){window.walletConnection.requestSignIn(p.contractName)}function w(){window.walletConnection.signOut(),window.location.reload()}var v=n(246),k=n(241),C=n(250),_=n(143),y=n(1),N=function(e){var t=e.address,n=e.amount,a=e.symbol,r=e.destroy,c=e.login;return t?Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(v.a,{children:[Object(y.jsx)(v.a.Toggle,{variant:"light",align:"end",id:"dropdown-basic",className:"d-flex align-items-center border rounded-pill py-1",children:n?Object(y.jsxs)(y.Fragment,{children:[n," ",Object(y.jsxs)("span",{className:"ms-1",children:[" ",a]})]}):Object(y.jsx)(k.a,{animation:"border",size:"sm",className:"opacity-25"})}),Object(y.jsxs)(v.a.Menu,{className:"shadow-lg border-0",children:[Object(y.jsx)(v.a.Item,{href:"https://explorer.testnet.near.org/accounts/".concat(t),target:"_blank",children:Object(y.jsxs)(C.a,{direction:"horizontal",gap:2,children:[Object(y.jsx)("i",{className:"bi bi-person-circle fs-4"}),Object(y.jsx)("span",{className:"font-monospace",children:t})]})}),Object(y.jsx)(v.a.Divider,{}),Object(y.jsxs)(v.a.Item,{as:"button",className:"d-flex align-items-center",onClick:function(){r()},children:[Object(y.jsx)("i",{className:"bi bi-box-arrow-right me-2 fs-4"}),"Disconnect"]})]})]})}):Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(_.a,{onClick:c,variant:"outline-light",className:"rounded-pill px-3 mt-3",children:"Connect Wallet"})})},I=n(26),S=(n(220),function(){return Object(y.jsx)(I.a,{position:"bottom-center",autoClose:5e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!1,pauseOnHover:!0})}),D=1e14;function F(e){return window.contract.get_node({node_id:e})}function R(e){return window.contract.search_name({name:e,absolute:!1})}function H(){return(H=Object(s.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.contract.create_root({title:t,data:n},D,Object(x.parseNearAmount)("0.005"));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(s.a)(d.a.mark((function e(t,n,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.contract.create_node({related_node_id:t,data:n,relation_from:a,relation_to:a},D,Object(x.parseNearAmount)("0.01"));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(s.a)(d.a.mark((function e(t,n,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.contract.create_relation({node_id:t,related_node_id:n,relation_from:a,relation_to:a},D,Object(x.parseNearAmount)("0.01"));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,n){var a={id:e.index,name:e.name,account_id:e.account_id,x:t,y:n};return e.media.length>0&&(a.svg=e.media),e.data.length>0&&(a.href=e.data),a}function M(e){for(var t,n,a=[],r=0;r<e.relations.length;r++)a.push({source:e.index,target:e.relations[r][1],label:e.relations[r][0].split("@")[0],index:(t=e.index,n=e.relations[r][1],parseInt(t)>parseInt(n)?n+"@"+t:t+"@"+n)});return a}var B=n(43),E=n(2),U=n(247),W=n(248),G=function(e){e.rootId,e.setRootId;var t=e.show,n=e.setShow,r=function(){return n(!1)},c="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Pomegranate_Juice_%282019%29.jpg/440px-Pomegranate_Juice_%282019%29.jpg",o="https://en.wikipedia.org/wiki/Pomegranate",s=Object(a.useState)({title:"",data:{name:"",media:c,data:o}}),l=Object(i.a)(s,2),d=l[0],j=l[1],h=function(e){var t=Object(E.a)({},d);"title"===e.target.id?t[e.target.id]=e.target.value:t.data[e.target.id]=e.target.value,j(t)};return Object(y.jsxs)(U.a,{size:"lg",show:t,onHide:r,children:[Object(y.jsx)(U.a.Header,{closeButton:!0,children:Object(y.jsx)(U.a.Title,{children:"Create a new graph on Near now!"})}),Object(y.jsx)(U.a.Body,{children:Object(y.jsxs)(W.a,{children:[Object(y.jsxs)(W.a.Group,{className:"mb-3",controlId:"title",children:[Object(y.jsx)(W.a.Label,{children:"Title (Unique)"}),Object(y.jsx)(W.a.Control,{placeholder:"Title of your graph",onChange:h,autoFocus:!0})]}),Object(y.jsx)("h3",{children:"Root Node infomation"}),Object(y.jsxs)(W.a.Group,{className:"mb-3",controlId:"name",children:[Object(y.jsx)(W.a.Label,{children:"Name"}),Object(y.jsx)(W.a.Control,{placeholder:"Name of the root node",onChange:h})]}),Object(y.jsxs)(W.a.Group,{className:"mb-3",controlId:"media",children:[Object(y.jsx)(W.a.Label,{children:"Media Url (Optional, support ipfs upload later)"}),Object(y.jsx)(W.a.Control,{as:"textarea",rows:3,defaultValue:c,onChange:h}),Object(y.jsx)("img",{src:d.data.media,alt:"Media",style:{maxHeight:"250px",maxWidth:"440px"}})]}),Object(y.jsxs)(W.a.Group,{className:"mb-3",controlId:"data",children:[Object(y.jsx)(W.a.Label,{children:"Data Url (Optional)"}),Object(y.jsx)(W.a.Control,{as:"textarea",rows:3,defaultValue:o,onChange:h})]})]})}),Object(y.jsxs)(U.a.Footer,{children:[Object(y.jsx)("p",{children:"* You need to paid for the storage, the contract will refund the extra cost after minting. Storage usage will record and will refund when burn in future. "}),Object(y.jsx)(_.a,{variant:"secondary",onClick:r,children:"Cancel"}),Object(y.jsx)(_.a,{variant:"primary",onClick:function(){n(!1),function(e,t){H.apply(this,arguments)}(d.title,d.data)},children:"I get it, mint now!"})]})]})},z=function(e){var t=e.graphData,n=e.setGraphData,r=e.rootId,c=e.setRootId,o=e.nodes,l=e.setNodes,j=e.address,h=Object(a.useState)(!1),b=Object(i.a)(h,2),u=b[0],x=b[1],p=Object(a.useState)([]),O=Object(i.a)(p,2),m=O[0],g=O[1],f=Object(a.useState)([]),w=Object(i.a)(f,2),v=w[0],k=w[1],C=Object(a.useState)({}),_=Object(i.a)(C,2),N=_[0],S=_[1],D=3*Math.PI/8,R=function(){var e=Object(s.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=g,e.next=4,window.contract.get_root_list();case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),console.log({error:e.t2});case 11:return e.prev=11,e.finish(11);case 13:case"end":return e.stop()}}),e,null,[[0,8,11,13]])})));return function(){return e.apply(this,arguments)}}(),H=Object(a.useCallback)(function(){var e=Object(s.a)(d.a.mark((function e(a,r,c,s){var i,j,h,b,u,x,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,750===r&&(l({}),S({}),t={nodes:[],links:[]}),e.next=4,F(a);case 4:if(!((i=e.sent).index in o)){e.next=7;break}return e.abrupt("return");case 7:if(t.nodes.push(P(i,r,c)),o[i.index]=i,l(o),!(i.relations.length>0)){e.next=34;break}j=M(i),h=0;case 13:if(!(h<j.length)){e.next=20;break}if(!(j[h].index in N)){e.next=16;break}return e.abrupt("continue",17);case 16:j[h].target in o&&(t.links.push(j[h]),N[j[h].index]=j[h]);case 17:h++,e.next=13;break;case 20:S(N),b=Math.PI/i.relations.length,u=100,x=0;case 24:if(!(x<i.relations.length)){e.next=34;break}if((p=i.relations[x][1])in o){e.next=31;break}return e.next=29,H(p,r+u*Math.sin(s),c+u*Math.cos(s),s+Math.PI/4);case 29:e.sent,s+=b;case 31:x++,e.next=24;break;case 34:console.log(t),n(t),e.next=41;break;case 38:e.prev=38,e.t0=e.catch(0),console.log({error:e.t0});case 41:return e.prev=41,e.finish(41);case 43:case"end":return e.stop()}}),e,null,[[0,38,41,43]])})));return function(t,n,a,r){return e.apply(this,arguments)}}());return Object(a.useEffect)((function(){R()})),Object(a.useEffect)((function(){var e;""!==r||0===m.length||c(null===(e=m[0])||void 0===e?void 0:e.index)}),[m]),Object(a.useEffect)((function(){""!==r&&H(r,750,250,D)}),[r]),Object(y.jsxs)("div",{className:"menu",children:[Object(y.jsx)(G,{rootId:r,setRootId:c,show:u,setShow:x}),Object(y.jsx)("div",{style:{marginTop:"5px",width:"100%",minHeight:"24px"},children:Object(y.jsx)("div",{style:{float:"right",marginRight:"10px"},onClick:R,children:Object(y.jsx)(B.c,{})})}),Object(y.jsxs)("div",{className:"create_root_bar",onClick:function(){j?x(!0):Object(I.b)("Please connect your wallet first")},children:[Object(y.jsx)(B.a,{style:{marginTop:"4px"}}),Object(y.jsx)("span",{className:"black_border_bottom",style:{lineHeight:"24px",marginLeft:"5px"},children:"Create new graph"})]}),Object(y.jsx)("div",{style:{marginTop:"15px"},children:m.map((function(e){return Object(y.jsx)("div",{className:v===e.index?"item_selected":"item",onClick:function(){var t;t=e.index,k(t),c(t)},style:{padding:"5px"},children:e.name},e.index)}))})]})},A=n(146),J=n(245),V=n(144),K=n(243),Z=n(244),Y=n(145),q=function(e){var t=e.node,n=e.setNode,r=e.nodes,c=e.show,o=e.setShow,s=e.address,l=function(){return o(!1)},d="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Pomegranate_Juice_%282019%29.jpg/440px-Pomegranate_Juice_%282019%29.jpg",j="https://en.wikipedia.org/wiki/Pomegranate",h=Object(a.useState)({data:{name:"",media:d,data:j},relation:""}),b=Object(i.a)(h,2),u=b[0],x=b[1],p=Object(a.useState)(!1),O=Object(i.a)(p,2),m=O[0],g=O[1],f=function(e){var t=Object(E.a)({},u);"relation"===e.target.id?t[e.target.id]=e.target.value:t.data[e.target.id]=e.target.value,x(t)};return Object(y.jsx)(y.Fragment,{children:m?Object(y.jsxs)(U.a,{size:"lg",show:c,onHide:l,children:[Object(y.jsxs)(U.a.Header,{closeButton:!0,children:[Object(y.jsxs)(U.a.Title,{children:["Create a new Node related on ",t.name," [#",t.index,"] "]}),Object(y.jsxs)("div",{style:{marginLeft:"25px"},onClick:function(){g(!1)},children:[Object(y.jsx)("span",{className:"black_border_bottom",children:"Back to view"})," ",Object(y.jsx)(B.b,{})]})]}),Object(y.jsx)(U.a.Body,{children:Object(y.jsxs)(W.a,{children:[Object(y.jsxs)(W.a.Group,{className:"mb-3",controlId:"relation",children:[Object(y.jsx)(W.a.Label,{children:"Relation"}),Object(y.jsx)(W.a.Control,{placeholder:"Relation with related node, such as 'friends'",onChange:f})]}),Object(y.jsx)("h3",{children:"Node infomation"}),Object(y.jsxs)(W.a.Group,{className:"mb-3",controlId:"name",children:[Object(y.jsx)(W.a.Label,{children:"Name"}),Object(y.jsx)(W.a.Control,{placeholder:"Name of the node",onChange:f})]}),Object(y.jsxs)(W.a.Group,{className:"mb-3",controlId:"media",children:[Object(y.jsx)(W.a.Label,{children:"Media Url (Optional, support ipfs upload later)"}),Object(y.jsx)(W.a.Control,{as:"textarea",rows:3,defaultValue:d,onChange:f}),Object(y.jsx)("img",{src:u.data.media,alt:"Media",style:{maxHeight:"250px",maxWidth:"440px"}})]}),Object(y.jsxs)(W.a.Group,{className:"mb-3",controlId:"data",children:[Object(y.jsx)(W.a.Label,{children:"Data Url (Optional)"}),Object(y.jsx)(W.a.Control,{as:"textarea",rows:3,defaultValue:j,onChange:f})]})]})}),Object(y.jsxs)(U.a.Footer,{children:[Object(y.jsx)("p",{children:"* You need to paid for the storage, the contract will refund the extra cost after minting. Storage usage will record and will refund when burn in future. "}),Object(y.jsx)(_.a,{variant:"secondary",onClick:l,children:"Cancel"}),Object(y.jsx)(_.a,{variant:"primary",onClick:function(){o(!1),function(e,t,n){L.apply(this,arguments)}(t.index,u.data,u.relation)},children:"I get it, mint now!"})]})]}):Object(y.jsxs)(U.a,{size:"lg",show:c,onHide:l,children:[Object(y.jsxs)(U.a.Header,{closeButton:!0,children:[Object(y.jsxs)(U.a.Title,{children:["Node ",t.name," [#",t.index,"]"]}),Object(y.jsx)(_.a,{variant:"primary",onClick:function(){s?g(!0):Object(I.b)("Please connect your wallet first")},style:{marginLeft:"25px"},children:"Create Node"})]}),Object(y.jsxs)(U.a.Body,{children:[Object(y.jsx)("img",{src:t.media,alt:"Media",style:{maxHeight:"250px",maxWidth:"440px"}}),Object(y.jsxs)("p",{children:["Name: ",t.name]}),Object(y.jsxs)("p",{children:["ID: #",t.index]}),Object(y.jsxs)("p",{children:["Data: ",Object(y.jsx)("a",{href:t.data,target:"_blank",rel:"noreferrer",children:"view"})," "]}),Object(y.jsxs)("p",{children:["Current owner: ",Object(y.jsx)("a",{href:"https://explorer.testnet.near.org/accounts/"+t.account_id,target:"_blank",rel:"noreferrer",children:t.account_id})]}),Object(y.jsxs)("p",{children:["Deposit: ",t.storage," yocto\u24c3"]}),Object(y.jsx)("h3",{children:"Relations"}),Object(y.jsx)("p",{children:"click ID to view node"}),Object(y.jsxs)(K.a,{children:[Object(y.jsxs)(Z.a,{children:[Object(y.jsx)(Y.a,{xs:4,md:2,children:"ID"}),Object(y.jsx)(Y.a,{xs:4,md:2,children:"relation"}),Object(y.jsx)(Y.a,{xs:4,md:2,children:"name"}),Object(y.jsx)(Y.a,{xs:4,md:2,children:"Media"}),Object(y.jsx)(Y.a,{xs:4,md:2,children:"Data"})]}),t.relations.map((function(e){return Object(y.jsx)(y.Fragment,{children:e[1]in r?Object(y.jsxs)(Z.a,{children:[Object(y.jsx)(Y.a,{xs:4,md:2,onClick:function(){n(r[e[1]])},style:{color:"blue"},children:Object(y.jsxs)("b",{children:["#",r[e[1]].index]})}),Object(y.jsx)(Y.a,{xs:4,md:2,children:e[0].split("@")[0]}),Object(y.jsx)(Y.a,{xs:4,md:2,children:r[e[1]].name}),Object(y.jsx)(Y.a,{xs:4,md:2,children:Object(y.jsx)("img",{src:r[e[1]].media,alt:"Media",style:{maxHeight:"75px",maxWidth:"75px"}})}),Object(y.jsx)(Y.a,{xs:4,md:2,children:Object(y.jsx)("a",{href:r[e[1]].data,target:"_blank",rel:"noreferrer",children:"view"})})]},e[1]):Object(y.jsx)(y.Fragment,{})})}))]})]}),Object(y.jsx)(U.a.Footer,{children:Object(y.jsx)(_.a,{variant:"secondary",onClick:l,children:"Close"})})]})})},Q=function(e){var t=e.nodes,n=e.nodeId,r=e.setNodeId,c=e.relatedNodeId,o=e.setRelatedNodeId,s=e.show,l=e.setShow,d=function(){r(""),o(""),l(!1)},j=Object(a.useState)(""),h=Object(i.a)(j,2),b=h[0],u=h[1];return Object(y.jsxs)(U.a,{size:"lg",show:s,onHide:d,children:[Object(y.jsx)(U.a.Header,{closeButton:!0,children:Object(y.jsx)(U.a.Title,{children:""!==n&&""!==c?Object(y.jsxs)(y.Fragment,{children:["Create Relation: ",t[n].name," #",n," to ",t[c].name," #",c]}):Object(y.jsx)(y.Fragment,{})})}),Object(y.jsxs)(U.a.Body,{children:[""!==n&&""!==c?Object(y.jsx)(K.a,{children:Object(y.jsxs)(Z.a,{children:[Object(y.jsxs)(Y.a,{xs:12,md:4,children:[Object(y.jsx)("img",{src:t[n].media,alt:"Media",style:{maxHeight:"250px",maxWidth:"440px"}}),Object(y.jsxs)("p",{children:["Name: ",t[n].name]}),Object(y.jsxs)("p",{children:["ID: #",t[n].index]}),Object(y.jsxs)("p",{children:["Data: ",Object(y.jsx)("a",{href:t[n].data,target:"_blank",rel:"noreferrer",children:"view"})," "]}),Object(y.jsxs)("p",{children:["Current owner: ",t[n].account_id]}),Object(y.jsxs)("p",{children:["Deposit: ",t[n].storage," yocto\u24c3"]})]}),Object(y.jsxs)(Y.a,{xs:12,md:4,children:[Object(y.jsx)("img",{src:t[c].media,alt:"Media",style:{maxHeight:"250px",maxWidth:"440px"}}),Object(y.jsxs)("p",{children:["Name: ",t[c].name]}),Object(y.jsxs)("p",{children:["ID: #",t[c].index]}),Object(y.jsxs)("p",{children:["Data: ",Object(y.jsx)("a",{href:t[c].data,target:"_blank",rel:"noreferrer",children:"view"})," "]}),Object(y.jsxs)("p",{children:["Current owner: ",t[c].account_id]}),Object(y.jsxs)("p",{children:["Deposit: ",t[c].storage," yocto\u24c3"]})]})]})}):Object(y.jsx)(y.Fragment,{}),Object(y.jsx)(W.a,{children:Object(y.jsxs)(W.a.Group,{className:"mb-3",controlId:"relation",children:[Object(y.jsx)(W.a.Label,{children:"Relation"}),Object(y.jsx)(W.a.Control,{placeholder:"Relation with related node, such as 'friends'",onChange:function(e){u(e.target.value)}})]})})]}),Object(y.jsxs)(U.a.Footer,{children:[Object(y.jsx)("p",{children:"* You need to paid for the storage, the contract will refund the extra cost after minting."}),Object(y.jsx)(_.a,{variant:"secondary",onClick:d,children:"Cancel"}),Object(y.jsx)(_.a,{variant:"primary",onClick:function(){l(!1),function(e,t,n){T.apply(this,arguments)}(n,c,b)},children:"I get it, mint now!"})]})]})},X=function(e){var t=e.graphData,n=e.setRootId,r=e.nodes,c=e.address,o=Object(a.useState)(""),l=Object(i.a)(o,2),j=l[0],h=l[1],b=Object(a.useState)(""),u=Object(i.a)(b,2),x=u[0],p=u[1],O=Object(a.useState)(!1),m=Object(i.a)(O,2),g=(m[0],m[1],Object(a.useState)([])),f=Object(i.a)(g,2),w=f[0],v=f[1],k=Object(a.useState)({index:"",name:"",media:"",account_id:"",data:"",relations:[],storage:"0"}),C=Object(i.a)(k,2),_=C[0],N=C[1],S=Object(a.useState)(!1),D=Object(i.a)(S,2),F=D[0],H=D[1],L=Object(a.useState)(!1),T=Object(i.a)(L,2),P=T[0],M=T[1],E=Object(a.useCallback)(function(){var e=Object(s.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=v,e.next=4,R(t);case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),console.log({error:e.t2});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}());return Object(y.jsxs)("div",{className:"near_graph",style:{padding:"5px"},children:[Object(y.jsx)(q,{nodes:r,setNode:N,node:_,setRootId:n,show:F,setShow:H,address:c}),Object(y.jsx)(Q,{show:P,setShow:M,nodes:r,nodeId:j,setNodeId:h,relatedNodeId:x,setRelatedNodeId:p}),Object(y.jsxs)("div",{style:{padding:"15px 15px 0px 15px"},children:[Object(y.jsx)("p",{children:"Right click nodes to create relation between them."}),Object(y.jsxs)(J.a,{className:"mb-3",children:[Object(y.jsxs)(J.a.Text,{children:[Object(y.jsx)(B.d,{}),"Search"]}),Object(y.jsx)(V.a,{onChange:function(e){""===e.target.value?v([]):E(e.target.value)}.bind(undefined),placeholder:"Enter keyword","aria-label":"Enter keyword","aria-describedby":"basic-addon2"}),w.length>0?Object(y.jsx)("div",{className:"search_result",children:w.map((function(e){return Object(y.jsx)("div",{className:"result_item item",onClick:function(){var t;t=e[1],v([]),n(t)},children:e[0]},e[1])}))}):Object(y.jsx)(y.Fragment,{})]})]}),Object(y.jsx)(A.Graph,{className:"graph_svg",id:"graph-id",data:t,config:{height:700,width:1500,nodeHighlightBehavior:!0,linkHighlightBehavior:!0,staticGraphWithDragAndDrop:!0,maxZoom:4,minZoom:1.6,zoom:1.8,focusZoom:2,node:{fontSize:8,highlightFontSize:12,highlightFontWeight:"bold",highlightStrokeColor:"blue",labelProperty:"name",size:400,strokeWidth:2,labelPosition:"bottom"},link:{highlightColor:"blue",renderLabel:!0,highlightFontWeight:"bold",semanticStrokeWidth:!0,fontSize:8,labelPosition:"center"},d3:{gravity:-400,linkLength:180,disableLinkForce:!0}},onClickNode:function(e){console.log("Clicked node ".concat(e)),e in r&&(N(r[e]),H(!0))},onClickLink:function(e,t){console.log("Clicked link between ".concat(e," and ").concat(t))},onZoomChange:function(e,t){console.log(e,t)},onRightClickNode:function(e,t,n){if(e.preventDefault(),c){if(t in r){if(j===t)return Object(I.b)("cancel relate node ".concat(r[t].name," #").concat(t)),h(""),void p("");if(""===j)return Object(I.b)("Selected relate node ".concat(r[t].name," #").concat(t)),h(t),void p("");Object(I.b)("Selected relate node ".concat(r[t].name," #").concat(t)),p(t),M(!0)}}else Object(I.b)("Please connect your wallet first")}})]})},$=n.p+"static/media/logo.4e487ea7.png",ee=(n(228),function(){var e=window.walletConnection.account(),t=Object(a.useState)("0"),n=Object(i.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)({nodes:[],links:[]}),l=Object(i.a)(o,2),h=l[0],b=l[1],u=Object(a.useState)(""),x=Object(i.a)(u,2),p=x[0],O=x[1],g=Object(a.useState)({}),v=Object(i.a)(g,2),k=v[0],C=v[1],_=function(){var t=Object(s.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.accountId){t.next=6;break}return t.t0=c,t.next=4,m();case 4:t.t1=t.sent,(0,t.t0)(t.t1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){_()}),[_]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(S,{}),Object(y.jsxs)(j.a,{className:"justify-content-between align-items-center pt-3 pb-3 mb-2",style:{backgroundColor:"black",padding:"15px"},children:[Object(y.jsxs)(j.a.Item,{children:[Object(y.jsx)("a",{href:"https://www.zsrtech.com",children:Object(y.jsx)("img",{className:"nav-icon",src:$,alt:"",style:{float:"left"}})}),Object(y.jsx)("span",{style:{float:"left",color:"white",lineHeight:"40px",height:"40px",marginLeft:"20px"},children:"Near knowledge graph"})]}),Object(y.jsx)(j.a.Item,{children:Object(y.jsx)(N,{address:e.accountId,amount:r,symbol:"NEAR",destroy:w,login:f})})]}),Object(y.jsxs)("div",{className:"main",children:[Object(y.jsx)(z,{graphData:h,setGraphData:b,rootId:p,setRootId:O,nodes:k,setNodes:C,address:e.accountId}),Object(y.jsx)(X,{graphData:h,setRootId:O,nodes:k,address:e.accountId})]})]})}),te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,251)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};n(231),n(232);window.nearInitPromise=function(){return O.apply(this,arguments)}().then((function(){o.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(ee,{})}),document.getElementById("root"))})).catch(console.error),te()}},[[234,1,2]]]);
//# sourceMappingURL=main.b013c23b.chunk.js.map